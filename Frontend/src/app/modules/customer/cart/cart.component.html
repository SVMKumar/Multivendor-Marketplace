<app-navbar></app-navbar>

<!-- Main Container -->
<!-- Main Container -->
<div class="container my-5">
  <!-- Cart with Items -->
  <div class="row" id="cartWithItems" *ngIf="products.length > 0">
      <div class="col-lg-8">
          <!-- Cart Items -->
          <div class="row g-4">
              <!-- Sample Cart Item 1 -->
              <div class="col-12" *ngFor=" let product of products">
                  <div class="card cart-item-card h-100">
                      <div class="row g-0 h-100">
                          <div class="col-md-3">
                              <div class="product-image-container">
                                  <img [src]="product.imageUrl" 
                                       [alt]="product.name" class="product-image">
                                  <div class="stock-badge">In Stock</div>
                              </div>
                          </div>
                          <div class="col-md-9">
                              <div class="card-body d-flex flex-column h-100">
                                  <h3 class="product-title">{{product.name}}</h3>
                                  <p class="product-description">{{product.description}}</p>
                                  
                                  <div class="product-specs">
                                      <span class="spec-item"><i class="bi bi-palette me-1"></i>{{product.color}}</span>
                                      <span class="spec-item"><i class="bi bi-rulers me-1"></i>{{product.size}}</span>
                                      <span class="spec-item"><i class="bi bi-box me-1"></i>Available: {{product.stock}}</span>
                                  </div>

                                  <div class="price-section">
                                      <div>
                                          <span class="price-current">₹{{product.price}}</span>
                                          <div class="price-total">Total: ₹{{product.price*product.quantity}}</div>
                                      </div>
                                      <div class="quantity-controls">
                                          <button class="quantity-btn" (click)="decreaseQuantity(product)">
                                              <i class="bi bi-dash"></i>
                                          </button>
                                          <input type="number" class="quantity-input" [(ngModel)]="product.quantity" [min]="1" readonly>
                                          <button class="quantity-btn" (click)="increaseQuantity(product)">
                                              <i class="bi bi-plus"></i>
                                          </button>
                                      </div>
                                  </div>

                                  <div class="action-buttons">
                                      <button class="btn btn-remove" (click)="removeItem(product)">
                                          <i class="bi bi-trash me-1"></i> Remove
                                      </button>
                                      <button class="btn btn-buy-now" (click)="buyNow(product)">
                                          <i class="bi bi-cart-check me-1"></i> Buy Now
                                      </button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>

      <!-- Cart Summary -->
      <div class="col-lg-4">
          <div class="cart-summary">
              <h4 class="mb-4"><i class="bi bi-receipt me-2"></i>Order Summary</h4>
              
              <div class="cart-stats">
                  <div class="stat-item">
                      <span class="stat-number">{{products.length}}</span>
                      <span class="stat-label">Items</span>
                  </div>
                  <div class="stat-item">
                      <span class="stat-number">₹{{totalAmount}}</span>
                      <span class="stat-label">Subtotal</span>
                  </div>
              </div>

              <hr>

            
              <button class="checkout-btn w-100" (click)="checkOut()">
                  <span><i class="bi bi-shopping-bag me-2"></i>Proceed to Checkout</span>
              </button>
          </div>
      </div>
  </div>

  <!-- Empty Cart (Hidden by default) -->
  <div class="row justify-content-center" *ngIf="products.length === 0">
      <div class="col-md-8">
          <div class="empty-cart">
              <img src="../../../../assets/Cart_GIF.gif" alt="Empty Cart">
              <h2>Your cart is empty!</h2>
              <p>Looks like you haven't added anything to your cart yet.</p>
              <button class="shop-now-btn" [routerLink]="['/home/products']">
                  <i class="bi bi-shop me-2"></i>Start Shopping
              </button>
          </div>
      </div>
  </div>

  <div class="suggestions-section">
      <h2 class="suggestions-title">Suggested For You</h2>
      <p class="suggestions-subtitle">Based on your Activity</p>
      <app-product-list [hideNavbar]="true"></app-product-list>
  </div>
</div>


